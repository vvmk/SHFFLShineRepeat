<div class='routineFormContainer formContainer'>
    <form (ngSubmit)='save()' [formGroup]='routineForm' class='ssr-form'>
        <div class="form-field">
            <input
                id='routineTitleId' type='text'
                placeholder='Routine Name' 
                formControlName='title'
            />
        </div>
        <div class="form-field">
            <select 
                placeholder='Character'
                formControlName='character'>
                <option *ngFor='let character of roster' [value]='character'>
                    {{character}}
                </option>
            </select>
        </div>
        <div class="divider"></div>
        <div class='drill-form-container'>
            <div formArrayName='drills' 
                *ngFor="let drill of drills.controls; let i=index">
                <div [formGroupName]='i'>
                    <div class="form-field">
                        <input 
                            type='text'
                            placeholder="{{ 'Drill #' + (i + 1) }}" 
                            formControlName='drill_title' />
                    </div>
                    <div class="form-field">
                        <input 
                            type='number'
                            placeholder='Duration (seconds)'
                            formControlName='duration' />
                    </div>
                    <button 
                        tabindex='-1' 
                        color='warn'
                        type='button'
                        (click)='removeDrill(i)'
                        [disabled]='drills.length <= 1'>
                        +
                    </button>
                </div>
            </div>
            <button 
                type='button'
                (click)='addDrill()'>
                Add More...
            </button>
        </div>
        <div class="divider"></div>
        <div class='submit-button'>
            <button color='primary' type='submit'
                [disabled]='!routineForm.valid'>
                Save
            </button>
        </div>
    </form>
</div>
